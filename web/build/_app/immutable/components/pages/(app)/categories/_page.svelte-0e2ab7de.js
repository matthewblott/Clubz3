import{S as U,i as V,s as X,Y as J,k as v,q as I,a as P,x as L,e as K,l as E,m as w,r as N,h,c as A,y as O,b as D,I as u,z as R,Z as x,f as H,t as B,A as W,u as z,C as S,n as q,g as ee,d as te,W as oe}from"../../../../chunks/index-867ab049.js";import{E as ae}from"../../../../chunks/edit-058cb14e.js";import{P as re,a as le}from"../../../../chunks/Pager-bc17a407.js";import{g as ne}from"../../../../chunks/navigation-8c5881c7.js";import{C as se}from"../../../../chunks/category-84859f27.js";import"../../../../chunks/index-4d8f42c1.js";async function ce(s,e){return await se.fetchPaged(s,e)}function M(s,e,a){const t=s.slice();return t[5]=e[a].CategoryId,t[6]=e[a].CategoryName,t}function fe(s){let e=s[9]+"",a;return{c(){a=I(e)},l(t){a=N(t,e)},m(t,n){D(t,a,n)},p(t,n){n&1&&e!==(e=t[9]+"")&&z(a,e)},i:S,o:S,d(t){t&&h(a)}}}function ie(s){let e,a,t,n,p,m,d,g,f,o,l,b,y,T;l=new le({});let $=s[4].resource,r=[];for(let i=0;i<$.length;i+=1)r[i]=Q(M(s,$,i));const k=i=>B(r[i],1,1,()=>{r[i]=null});return{c(){e=v("table"),a=v("thead"),t=v("th"),n=I("Id"),p=P(),m=v("th"),d=I("Name"),g=P(),f=v("th"),o=v("a"),L(l.$$.fragment),b=P(),y=v("tbody");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=E(i,"TABLE",{role:!0});var _=w(e);a=E(_,"THEAD",{});var c=w(a);t=E(c,"TH",{scope:!0});var C=w(t);n=N(C,"Id"),C.forEach(h),p=A(c),m=E(c,"TH",{scope:!0});var Z=w(m);d=N(Z,"Name"),Z.forEach(h),g=A(c),f=E(c,"TH",{});var j=w(f);o=E(j,"A",{href:!0});var F=w(o);O(l.$$.fragment,F),F.forEach(h),j.forEach(h),c.forEach(h),b=A(_),y=E(_,"TBODY",{});var G=w(y);for(let Y=0;Y<r.length;Y+=1)r[Y].l(G);G.forEach(h),_.forEach(h),this.h()},h(){q(t,"scope","col"),q(m,"scope","col"),q(o,"href","/categories/new"),q(e,"role","grid")},m(i,_){D(i,e,_),u(e,a),u(a,t),u(t,n),u(a,p),u(a,m),u(m,d),u(a,g),u(a,f),u(f,o),R(l,o,null),u(e,b),u(e,y);for(let c=0;c<r.length;c+=1)r[c].m(y,null);T=!0},p(i,_){if(_&1){$=i[4].resource;let c;for(c=0;c<$.length;c+=1){const C=M(i,$,c);r[c]?(r[c].p(C,_),H(r[c],1)):(r[c]=Q(C),r[c].c(),H(r[c],1),r[c].m(y,null))}for(ee(),c=$.length;c<r.length;c+=1)k(c);te()}},i(i){if(!T){H(l.$$.fragment,i);for(let _=0;_<$.length;_+=1)H(r[_]);T=!0}},o(i){B(l.$$.fragment,i),r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)B(r[_]);T=!1},d(i){i&&h(e),W(l),oe(r,i)}}}function Q(s){let e,a,t=s[5]+"",n,p,m,d=s[6]+"",g,f,o,l,b,y,T,$;return b=new ae({}),{c(){e=v("tr"),a=v("td"),n=I(t),p=P(),m=v("td"),g=I(d),f=P(),o=v("td"),l=v("a"),L(b.$$.fragment),T=P(),this.h()},l(r){e=E(r,"TR",{});var k=w(e);a=E(k,"TD",{scope:!0});var i=w(a);n=N(i,t),i.forEach(h),p=A(k),m=E(k,"TD",{});var _=w(m);g=N(_,d),_.forEach(h),f=A(k),o=E(k,"TD",{});var c=w(o);l=E(c,"A",{href:!0});var C=w(l);O(b.$$.fragment,C),C.forEach(h),c.forEach(h),T=A(k),k.forEach(h),this.h()},h(){q(a,"scope","row"),q(l,"href",y="/categories/"+s[5])},m(r,k){D(r,e,k),u(e,a),u(a,n),u(e,p),u(e,m),u(m,g),u(e,f),u(e,o),u(o,l),R(b,l,null),u(e,T),$=!0},p(r,k){(!$||k&1)&&t!==(t=r[5]+"")&&z(n,t),(!$||k&1)&&d!==(d=r[6]+"")&&z(g,d),(!$||k&1&&y!==(y="/categories/"+r[5]))&&q(l,"href",y)},i(r){$||(H(b.$$.fragment,r),$=!0)},o(r){B(b.$$.fragment,r),$=!1},d(r){r&&h(e),W(b)}}}function ue(s){let e,a;return{c(){e=v("p"),a=I("waiting for the promise to resolve...")},l(t){e=E(t,"P",{});var n=w(e);a=N(n,"waiting for the promise to resolve..."),n.forEach(h)},m(t,n){D(t,e,n),u(e,a)},p:S,i:S,o:S,d(t){t&&h(e)}}}function he(s){let e,a,t,n,p,m,d,g;n=new re({props:{limit:10,count:s[1]}}),n.$on("next",s[2]);let f={ctx:s,current:null,token:null,hasCatch:!0,pending:ue,then:ie,catch:fe,value:4,error:9,blocks:[,,,]};return J(d=s[0],f),{c(){e=v("h1"),a=I("Categories"),t=P(),L(n.$$.fragment),p=P(),m=K(),f.block.c()},l(o){e=E(o,"H1",{});var l=w(e);a=N(l,"Categories"),l.forEach(h),t=A(o),O(n.$$.fragment,o),p=A(o),m=K(),f.block.l(o)},m(o,l){D(o,e,l),u(e,a),D(o,t,l),R(n,o,l),D(o,p,l),D(o,m,l),f.block.m(o,f.anchor=l),f.mount=()=>m.parentNode,f.anchor=m,g=!0},p(o,[l]){s=o;const b={};l&2&&(b.count=s[1]),n.$set(b),f.ctx=s,l&1&&d!==(d=s[0])&&J(d,f)||x(f,s,l)},i(o){g||(H(n.$$.fragment,o),H(f.block),g=!0)},o(o){B(n.$$.fragment,o);for(let l=0;l<3;l+=1){const b=f.blocks[l];B(b)}g=!1},d(o){o&&h(e),o&&h(t),W(n,o),o&&h(p),o&&h(m),f.block.d(o),f.token=null,f=null}}}function me(s,e,a){let t,n,{data:p}=e;const m=async d=>{const g=d.detail.offset,f=10,o=`?limit=${f}&offset=${g}`;ne(o),a(0,t=await ce(f,g)),a(1,n=t.meta.count)};return s.$$set=d=>{"data"in d&&a(3,p=d.data)},s.$$.update=()=>{s.$$.dirty&8&&a(0,t=p),s.$$.dirty&1&&a(1,n=t.meta.count)},[t,n,m,p]}class ke extends U{constructor(e){super(),V(this,e,me,he,X,{data:3})}}export{ke as default};
